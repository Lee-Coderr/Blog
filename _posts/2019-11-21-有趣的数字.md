---
layout: post
title: 有趣的数字
date: 2019-11-21 12:50:00
Author: Lee-Coderr
categories: 
- 数学
tags: [数学,常见数列]
comments: true
toc: true
pinned: true
---



>本篇用来记录学习过程中遇到的有趣的数列和他们的性质。

[TOC]

# 多边形数

## 三角形数

详见 ： [OEIS A000217](http://oeis.org/A000217) 

就是用小石块堆叠成三角形需要的个数。如下图：

<img src="..\images\TIM截图20191121125800.png" alt="TIM截图20191121125800" style="zoom: 50%;" />

前几项：1、3、6、10、15、21、28、36、45、55、66、78、91、105、120、136、153、171……

### 通项公式

第 $n$ 个三角数
$$
a(n) = C_{n+1}^2 = \frac{n(n+1)}{2}
$$
即自然数的前缀和。

### 特殊的三角形数

- 55、5,050、500,500、50,005,000……

- 第11个三角形数（66）、第1111个三角形数（617,716）、第111,111个三角形数（6,172,882,716）、第11,111,111个三角形数（61,728,399,382,716）都是[回文](https://baike.baidu.com/item/回文)式的三角形数，但第111个、第11,111个和第1,111,111个三角形数不是。

### 性质

- 任何自然数是最多三个三角形数的和
- 两个相继的三角形数之和是平方数
- 三角形数测试：$n = \frac{\sqrt{8X+1}-1}{2}$ ，如果n是整数，那么 $x$ 就是第 $n$ 个三角形数。如果 $n$ 不是整数，那么 $x$ 不是三角形数。这个检验法是基于[恒等式](https://baike.baidu.com/item/恒等式) $8T_n + 1 = S_{2n+1}$ 

## 正方形数

详见：[OEIS A000290](http://oeis.org/A000290)

也称平方数，堆成正方形用的石块数。

<img src="..\images\TIM截图20191121132239.png" alt="TIM截图20191121132239" style="zoom:50%;" />

前几项：1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144……

### 通项公式

$$
a(n) = n^2
$$

递推式：
$$
\begin{align*}
a_n &= 2a_{n-1}-a_{n-2} + 2 \\
n^2 &= 2(n-1)^2-(n-2)^2+2
\end{align*}
$$
连续整数的和：
完全平方数还可以表示成 $n^2=1+1+2+2+...+n−1+n−1+n$。例如，$4^2 = 16 = 1 + 1 + 2 + 2 + 3 + 3 + 4$。可以将其解释为在边长为 $3 $ 的矩形上添加宽度为 $1$ 的一行和一列，即得到边长为 4 的矩形。这对于计算较大的数的完全平方数非常有用。例如：$ 52^2 = 50^2 + 50 + 51 + 51 + 52 = 2500 + 204 = 2704$。

###　性质

- 奇自然数的前缀和。即 
  $$
  a(n) = \sum_{i=1}^{n}(2i-1) = n(n+1)-n = n^2
  $$
  
- **[四平方和定理](https://baike.baidu.com/item/四平方和定理)**说明所有正整数均可表示为最多四个平方数的和。
  特别的，三个平方数之和不能表示形如 $4k(8m + 7)$ 的数。
  若一个正整数可以表示因子中没有形如 $4k + 3$ 的素数的奇次方，则它可以表示成两个平方数之和。
- 平方数必定不是[完全数](https://baike.baidu.com/item/完全数)。
- 奇数的平方除以4余1，偶数的平方则能被4整除。
- 一个平方数是两个相邻[三角形数](https://baike.baidu.com/item/三角形数)之和。两个相邻平方数之和为一个[中心正方形数](https://baike.baidu.com/item/中心正方形数)。所有的奇数平方数同时也是中心八边形数。
- 在十进制中，平方数只能以 00，1，4，6，9 或 25 结尾：

1. 若一个数以 0 结尾，它的平方数以 00 结尾，且其他数字也构成一个平方数；
2. 若一个数以 1 或 9 结尾，它的平方数以 1 结尾，且其他数字构成的数能被 4 整除；
3. 若一个数以 2 或 8 结尾，它的平方数以 4 结尾，且其他数字构成一个偶数；
4. 若一个数以 3 或 7 结尾，它的平方数以 9 结尾，且其他数字构成的数能被 4 整除；
5. 若一个数以 4 或 6 结尾，它的平方数以 6 结尾，且其他数字构成一个奇数；
6. 若一个数以 5 结尾，它的平方数以 25 结尾，且前面的一位或两位数字数字必定为 0，2，06，56 之一，25前面的数是[普洛尼克数](https://baike.baidu.com/item/普洛尼克数)。

- 每4个连续的自然数相乘加 1，必定会等于一个平方数，即 $a(a+1)(a+2)(a+3)+1=(a+3a+1)$。
- 平方数必定是3的倍数或者3的倍数+1。
  平方数必定是4的倍数或者4的倍数+1。
- 是否在相继正方形数之间存在一个素数这一命题，对9000000以内的数目是正确的。
- 除了000以外，平方数末3位数若相同，必为444：如38=1444，462=213444。
- 除了0000以外，平方数末4位数不可能相同。

## 五边形数

详见：五边形数 [OEIS A000326](http://oeis.org/A000326) ，广义五边形数 [OEIS A001318](http://oeis.org/A001318) 

<img src="..\images\TIM截图20191121142452.png" alt="TIM截图20191121142452" style="zoom:50%;" />

前几项：1, 5, 12, 22, 35, 51, 70, 92, 117, 145……

### 通项公式

$$
a(n) = \frac{n(3n - 1)}{2}
$$

### 性质

- 奇偶排列是“奇奇偶偶”。

- 第 $n$ 个五边形数是第 $3n-1$ 个三角形数 $\frac{1}{3}$。

- 前 $n$ 个五边形数的算术平均数 是第 $n$ 个三角形数。
  $$
  \frac{1}{n}\sum_{i=1}^{n}\frac{i(3i-1)}{2} = \frac{3}{2}\frac{n(n+1)(2n+1)}{6}-\frac{1}{2}\frac{n(n+1)}{2} = \frac{n(n+1)}{2}
  $$

- 五边形数测试：$n = \frac{\sqrt{24X+1}+1}{6}$ 
  若 $n$ 是自然数，则 $x$ 是五边形数，而且恰为第 $n$ 个五边形数。
  若 $n$ 不是自然数，则 $x$ 不是五边形数。

- [费马多边形数定理](https://baike.baidu.com/item/费马多边形数定理)：任何整数都可以表示为不超过5个**五边形数**的和。大多数的整数都可以表示不超过3个**五边形数**的和。
  在小于 $10^6$ 的整数中，只有6个整数需用5个五边形数的和来表示：9, 21, 31, 43, 55, 89 [(OEIS:A133929)](http://oeis.org/A133929)
  210个整数需用4个五边形数的和来表示：4, 8, 9, 16, 19, 20, ..., 20250, 33066 [(OEIS:A003679)](http://oeis.org/A003679)

  
  

## 广义五边形数

### 通项公式

$$
p_n = \frac{n(3n \pm 1)}{2} \quad (n=0,\pm1, \pm2,\pm 3,...)
$$

前几项：0, 1, 2, 5, 7, 12, 15, 22, 26, 35, 40, 51, 57, 70, 77, 92, 100, 117…… [(OEIS:A001318)](http://oeis.org/A001318)

广义五边形数与整数分拆有重要关系。具体看之前的整数分拆文章。

### 性质

- 第 $n \quad (n>2)$ 个五边形数的外层有 $5(n-1)$ 个点，所以内部点有
  $$
  \begin{align*}
  \frac{n(3n-1)}{2}-5(n-1) &= \frac{3n^2-11n+10}{2}\\
  &= \frac{(3n-5)(n-2)}{2}\\
  &= \frac{3(n-2)^2-(n-2)}{2}
  \end{align*}
  $$
  依然是一个广义五边形数。

- 所有的整数都可以表示成不超过3个**广义五边形数**的和。

- 若三角形数可以被3整除，则除以3之后的数必为**广义五边形数**。

## 多边形数

[六边形数](https://zh.wikipedia.org/wiki/六邊形數)

[七边形数](https://zh.wikipedia.org/wiki/七邊形數)

第 $n$ 个 $s$ 边形的公式：
$$
a(n) = \frac{n[(s-2)n-(s-4)]}{2}
$$
[费马多边形数定理](https://zh.wikipedia.org/wiki/費馬多邊形數定理)指出每个数最多是 $n$ 个 $n$ 边形的和。

# 斐波那契数列

向日葵的条纹个数一般都符合斐波那契数列（[bilibili](https://www.bilibili.com/video/av77023393)）。
$$
a_n = \frac{1}{\sqrt{5}}[(\frac{1+\sqrt{5}}{2})^n-(\frac{1-\sqrt{5}}{2})^n]
$$
其中 
$$
\varphi = \frac{1+\sqrt{5}}{2} \approx 1.618 
$$
恰好是黄金比例分割。因为有
$$
\lim_{n\rightarrow\infty}\frac{a_{n+1}}{a_n} = \varphi
$$
自然中大多数的相邻叶子间的角度都符合**黄金角**（约等于$137.51^{\circ}$），此时符合**平面最密堆积**。

# 分圆问题

> 一个圆上取 $n$ 个点，问两两点连成得直线段最多把圆分成多少份？
>
> 前几项： $1,2,4,8,16,31$ 

- 先考虑 $n$ 个点可以连成多少条直线段，明显是 $C_n^2 = \frac{n(n-1)}{2}$ 条。

- 再考虑会产生多少个交点，对于上述问题求**最多**能分成多少个区域，容易知道任意三条直线都不交于一点时可以保证最多。从 $n$ 个点的角度考虑，每四个点形成的四元组形成两条直线段，有一个交点，所以共有 $C_n^4=\frac{n(n-1)(n-2)(n-3)}{4!}$ 个交点。

- 再把中间的交点都看作一个顶点，每个交点周围都有四条边，$C_n^2$ 条直线交于 $C_n^4$ 个点共被分割成 $C_n^2+2C_n^4$ 条边。

- 加上圆上的点，现在共有 $n+C_n^4$ 个点。加上圆被分割成的圆弧，共有 $n+C_n^2+2C_n^4$ 条边。

- 根据欧拉公式 $V-E+F=2$ 可以算出面的个数
  $$
  \begin{align*}
  F &= E-V+2 \\
    &= (n+C_n^2+2C_n^4)-(n+C_n^4)+2 \\
    &= C_n^2+C_n^4+2
  \end{align*}
  $$

- 去掉圆外的区域共有 $C_n^2+C_n^4+1$ 个面。也等于 $C_{n-1}^4+C_{n-1}^3+C_{n-1}^2+C_{n-1}^1+C_{n-1}^0$ ，这也解释了为什么 $n<6$ 时和 $2$ 的幂有关系。

